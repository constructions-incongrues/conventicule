backend:
  name: github
  repo: constructions-incongrues/empilements
  branch: main
  site_domain: 1a522206-9642-4c26-bac4-280770cfbff4
  auth_scope: repo
  open_authoring: true

backend_local: true

media_folder: static/files
public_folder: /files

display_url: https://empilements.constructions-incongrues.net
publish_mode: editorial_workflow
show_preview_links: true


collections:
  - label: Empilement
    name: empilement
    folder: content/empilement
    create: true
    slug: '{{title}}'
    preview_path: empilement/{{slug}}
    identifier_field: title
    extension: json
    view_groups:
      - label: Year
        field: date
        # groups items based on the value matched by the pattern
        pattern: \d{4}
      - label: Curator
        field: curators
    fields:
      - { label: 'Title', name: 'title', widget: 'string' }
      - { label: 'Publish Date', name: 'date', widget: 'date' }
      - { label: 'Description', name: 'description', widget: 'markdown', required: false }
      - label: Cover
        name: cover
        widget: image
        choose_url: false
        media_folder: ''
      - label: Curators
        name: curators
        widget: list
        summary: '{{name}}'
        fields:
          - {label: Name, name: name, widget: string}
      - label: Tracks
        name: tracks
        widget: list
        summary: '{{artist}} - {{title}}'
        fields:
          - {label: Artist, name: artist, widget: string}
          - {label: Title, name: title, widget: string}
          - label: File
            name: file
            widget: file
            required: false
            choose_url: false
            media_folder: ''
